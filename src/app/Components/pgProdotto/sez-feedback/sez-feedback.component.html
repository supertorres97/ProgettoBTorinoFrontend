<div class="container-fluid">
    <div class="row">
        <aside class="col-1"></aside>
        <div class="col-10">
            <h1>La vostra fetta di opinione</h1>
            <div class="hr">
                <hr>
            </div>
            <div class="feedback">

                <div class="card" *ngFor="let feed of data">
                    <div class="card-header">
                        <img src="close.png" alt="Quotes">
                        <p>{{ feed?.dataFeedback | date:'dd/MM/yyyy' }}</p>
                    </div>
                    <div class="card-body">
                        <p>{{feed?.descrizione}}</p>
                    </div>
                    <div class="card-footer">
                        <img [src]="getStarImage(feed?.voto)" alt="Rating">
                        - {{feed?.utente?.nome}} {{feed?.utente?.cognome}}
                    </div>
                </div>
            </div>
            <div class="comment">
                <h2>Dicci la tua</h2>
                <div class="hr">
                    <hr>
                </div>
                <div class="box">
                    <mat-form-field>
                        <mat-label>Feedback</mat-label>
                        <textarea matInput #message maxlength="255" placeholder="Il nostro dolce ti ha conquistato? Lascia un commento!"></textarea>
                        <mat-hint align="end">{{message.value.length}} / 255</mat-hint>
                    </mat-form-field>
                    <div class="rate-send">
                        <mat-form-field class="voto" hideRequiredMarker="true">
                            <mat-label>Voto</mat-label>
                            <mat-select [(ngModel)]="selectedValue" name="rating" required>
                                <mat-option>--</mat-option>
                            @for (r of rating; track r) {
                                <mat-option [value]="r.value">{{r.viewValue}}</mat-option>
                            }
                            </mat-select>
                            <mat-error *ngIf="selectedValue === ''">Inserire una valutazione</mat-error>
                        </mat-form-field>
                        <div class="button">
                            <button> Invia </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <aside class="col-1"></aside>
    </div>
</div>
